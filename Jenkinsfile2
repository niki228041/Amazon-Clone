#!groovy
//  groovy Jenkinsfile
pipeline  {
    agent any;
      stages {
        
         stage("SonarQube Analysis")
         {
    def scannerHome = tool 'SonarScanner for MSBuild'
    withSonarQubeEnv() {
      sh "dotnet ${scannerHome}/SonarScanner.MSBuild.dll begin /k:\"Amazon-Clone\""
      sh "dotnet build"
      sh "dotnet ${scannerHome}/SonarScanner.MSBuild.dll end"
    }
         }
      }
post{
    always{
            
                echo "=========== Log out from Docker Hub =================="
                sh '''
                docker logout
                '''
    }
    }
}